### 기본 설정
- IAM Group/User 추가
- 프리티어 예산 초과 시 이메일 알람


## AWS VPC(Virtual Private Cloud)
- Amazon VPC는 Amazon EC2 계정 전용 가상 네트워크이다. VPC는 AWS 클라우드에서 다른 가상 네트워크와 논리적으로 분리되어 있다.
- EC2를 VPC에서 실행할 수 있다. IP 주소 범위와 VPC 범위를 설정하고 서브넷을 추가하고 보안 그룹을 연결한 다음 라우팅 테이블을 구성한다.
- 서브넷은 VPC의 IP 주소 범위이다. 지정된 서브넷으로 AWS 리소스(EC2)를 시작할 수 있다. 인터넷에 연결돼야 하는 리소스에서는 퍼블릭 서브넷을 사용하고, 연결되지 않는 리소스에는 프라이빗 서브넷을 사용해야 한다.
- 각 서브넷의 AWS 리소스를 보호하기 위해 보안그룹 및 네트워크 액세스 제어 목록(ACL)을 비롯한 여러 계층을 사용할 수 있다.

### 생성 CLI 명령어
    $ aws ec2 create-vpc --cidr-block 10.0.0.0/16
(코드로 만들 수도 있음)

### 장점
- 인스턴스의 시작/중지에 상관없이 유지되는 고정 IPv4 주소 할당
- 인스턴스에 여러 개의 IP 주소 할당 가능
- 인스턴스 인바운드/아웃바운드 트래픽 제어

### CIDR(Classless Inter-Domain Routing)
- VPC의 IPv4 주소의 범위를 CIDR 블록 형태로 지정해야 한다.(ex. 10.0.0.0/16)
- IP 주소는 8bit 4개로 이루어져 있는데 이는 각각 `Net ID`와 `Host ID`로 나뉜다. / 뒤의 숫자는 몇 bit가까지가 Net ID인지를 나타낸다. 10.0.0.0/16 는 16bit 즉 절반이 Net ID라는 뜻이며, 1.1.1.1/32는 IP가 모두 Net ID라는 뜻이다.
- [CIDR 표기법](https://m.blog.naver.com/PostView.nhn?blogId=ncloud24&logNo=221208338209&proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F)

### 서브넷
- 서브넷을 ap-northeast-2a(10.0.1.0/24), ap-northeast-2c(10.0.2.0/24) 두 개를 만든다.

### 인터넷 게이트웨이
- VPC 내에 서브넷을 만들어 줬으면 이제 외부 인터넷과 연결해줄 인터넷 게이트웨이가 필요하다.
- 만든 후, `작업 > VPC 연결`을 해서 VPC와 연결해주자.

### 라우팅 테이블
- 라우팅 테이블은 컴퓨터 네트워크에서 목적지 주소를 목적지에 도달하기 위한 네트워크 노선으로 변환시키는 목적으로 사용된다.
- 라우팅 테이블 생성 뒤, 0.0.0.0/0 을 추가한다.
- 그리고 바로 옆에 있는 `서브넷 연결`을 누른 뒤 만들어 둔 서브넷 두 개를 추가한다.

### 보안그룹
- 이제 보안그룹을 생성한다. 역시 만들어 둔 VPC와 연결한다.
인바운드 규칙을 추가하는데 HTTP에 0.0.0.0/0 로 입력한다.

그럼 이제 컴퓨팅 서비스를 시작할 준비가 끝난다.


## EC2 생성
- Amazon Linux AMI를 선택하고 , 미리 만들어 둔 VPC와 서브넷을 지정한 뒤, '퍼블릭 IP 자동 할당'을 활성화한다.
태그 추가에서는 추가하고픈 거 대충 추가해준다.
- 보안그룹은 미리 만들어 둔 보안그룹을 사용한다. 키페어는 없이 한다.

### Elastic IP
- 할당받고 `작업 > 주소 연결`로 방금 만든 EC2를 연결한다.
- IP가 EC2에 연결이 되면, 이 IP주소로 접속해 AWS가 뜨는지 확인한다.

### EBS(Elastic Block Storage)
- 서브넷 내에서 EBS를 추가로 연결한다.
- `EBS > 볼륨 생성`을 누른 뒤 1기가 짜리(??) 볼륨을 생성한다. 가용영역은 서브넷과 동일하게.
- `작업 > 볼륨 연결`에서 방금 생성한 EC2에 연결한다.


## Systems Manager
- 이전에는 SSH Client, SSH Port(22) Open, Key Pair 등이 필요했으나 Session Manager를 이용하면 이것들이 필요 없다.
- Session Manager 서비스에 들어가서 왼쪽의 `세션 관리자`를 누르고 인스턴스를 추가한다.
